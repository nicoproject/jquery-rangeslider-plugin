(self.webpackChunkjquery_slider_plugin=self.webpackChunkjquery_slider_plugin||[]).push([[280],{178:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});const i=function(){function n(){this.listeners=[]}return n.prototype.addListener=function(n){this.listeners.push(n)},n.prototype.trigger=function(n){void 0===n&&(n={}),this.listeners.forEach((function(e){e(n)}))},n}()},570:(n,e,t)=>{"use strict";var i=t(807);const s={id:0,step:10,scale:{min:0,max:150,isVisible:!0},orientation:"horizontal",skin:"city",runners:[{id:1,position:100,showTooltip:!0},{id:2,position:180,showTooltip:!0}]};var r=function(){return(r=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var s in e=arguments[t])Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n}).apply(this,arguments)};const o=function(){function n(n){n?this.options=n:void 0!==s&&(this.options=r({},s)),this.id=this.options.id,this.step=this.validateStep(this.options.step),this.scale=this.options.scale,this.skin=this.options.skin,this.orientation=this.options.orientation,this.hasNegative=this.scaleHasNegative(),this.range=this.calculateRange(),this.runners=this.setupRunners(this.options.runners),this.bar=this.createBar()}return n.prototype.setupRunners=function(n){var e=this;return n.forEach((function(n){e.validateRunnerPosition(n)})),n=this.sortRunnersByPosition(n)},n.prototype.validateRunnerPosition=function(n){if(!(n.position<=this.scale.max&&n.position>this.scale.min))return n.position=this.scale.min,n.position},n.prototype.sortRunnersByPosition=function(n){return n.sort((function(n,e){return n.position>e.position?1:e.position>n.position?-1:0}))},n.prototype.validateStep=function(n){return isNaN(n)||n<=0?1:n},n.prototype.validateScale=function(n,e){return n>this.scale.max&&(n=this.scale.min),e<this.scale.min&&(e=this.scale.max),{min:n,max:e}},n.prototype.createBar=function(){var n,e=0,t=this.runners.reduce((function(n,e){return n.position<e.position?n:e})),i=this.runners.reduce((function(n,e){return n.position>e.position?n:e}));return this.runners.length>=2?(n=i.position-t.position,e=t.position):this.runners.length<2?(n=t.position-this.options.scale.min,e=this.scale.min):void 0===this.bar&&(n=200),{length:n,startPoint:e,orientation:this.orientation}},n.prototype.scaleHasNegative=function(){return this.options.scale.min<0||this.options.scale.max<0},n.prototype.calculateRange=function(){var n=this.options.scale.min,e=this.options.scale.max;switch(this.hasNegative){case!0:return Math.abs(n)+Math.abs(e);case!1:return e-n}},n}();var a=t(288),l=t(793),h=t(508),c=t(657),u=t(389);const p=function(){function n(n,e){var t=this;this.$parentEl=e,this.skin=n.options.skin,this.scale=n.options.scale,this.step=n.options.step,this.runners=n.options.runners,this.bar=n.bar,this.orientation=n.options.orientation,this.range=n.range,this.hasNegative=n.hasNegative,this.scaleVisible=n.options.scale.isVisible,this.$mainWrapper=this.createSliderWrapper(),this.$runners=[],this.$runners=this.createRunners(),this._scale=this.createScale(),this.$runners.$runners.forEach((function(n){n.$scaleWrapper=t._scale.$scaleWrapper,n.moveRunner(n.position)})),this._bar=this.createBar(),this.$controlPanel=this.createPanel(),this.clickScaleEvent=this._scale.clickScaleEvent,this.moveRunnerEvent=this.$runners.moveRunnerEvent,this.skinSelectedEvent=this.$controlPanel.skinPanelEvent,this.orientationChangedEvent=this.$controlPanel.orientationPanelEvent,this.stepChangedEvent=this.$controlPanel.stepPanelEvent,this.minChangedEvent=this.$controlPanel.minPanelEvent,this.maxChangedEvent=this.$controlPanel.maxPanelEvent,this.visibilityChangedEvent=this.$controlPanel.visibilityPanelEvent,this.runnerChosenEvent=this.$controlPanel.runnersIdPanelEvent,this.positionChangedEvent=this.$controlPanel.positionPanelEvent,this.tooltipChangedEvent=this.$controlPanel.tooltipPanelEvent}return n.prototype.createSliderWrapper=function(){var n="";"vertical"===this.orientation&&(n="range-slider_vertical");var e=(0,a.a)("div","range-slider__main-wrapper "+n+" "+this.skin);return this.$parentEl.appendChild(e),e},n.prototype.createScale=function(){var n={$el:this.$mainWrapper,min:this.scale.min,max:this.scale.max,step:this.step,orientation:this.orientation,range:this.range,hasNegative:this.hasNegative,scaleVisible:this.scaleVisible,runnerPxSize:{width:this.$runners.$runners[0].$el.offsetWidth,height:this.$runners.$runners[0].$el.offsetHeight}},e=new l.Z(n);return this.$mainWrapper.appendChild(e.$scaleWrapper),e},n.prototype.createBar=function(){var n={$el:this.$mainWrapper,$scaleWrapper:this._scale.$scaleWrapper,barLength:this.bar.length,barStartPoint:this.bar.startPoint,orientation:this.orientation,range:this.range,hasNegative:this.hasNegative,min:this.scale.min};return new h.Z(n)},n.prototype.createRunners=function(){var n={$el:this.$mainWrapper,runners:this.runners,orientation:this.orientation,range:this.range,hasNegative:this.hasNegative,min:this.scale.min,step:this.step};return this.$runners=new c.Z(n),this.$runners},n.prototype.createPanel=function(){var n={$el:this.$mainWrapper,skin:this.skin,orientation:this.orientation,step:this.step,min:this.scale.min,max:this.scale.max,scaleVisible:this.scaleVisible,runners:this.runners};return this.$controlPanel=new u.Z(n),this.$controlPanel},n.prototype.destroy=function(){this.$mainWrapper.remove()},n}();var d=function(){return(d=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var s in e=arguments[t])Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n}).apply(this,arguments)};const m=function(){function n(n,e){var t=this;this.model=new o(n),this.view=new p(this.model,e),this.setupListeners(),window.addEventListener("resize",(function(){t.render()}))}return n.prototype.setupListeners=function(){var n=this;this.view.clickScaleEvent.addListener((function(e){var t=n.model.runners;t=t.map((function(n){return n.position}));var s=(0,i.As)(t,e.clickPoint),r=n.model.runners.find((function(n){return n.position===s}));r.position=e.clickPoint,n.view.$runners.$runners[n.view.$runners.$runners.findIndex((function(n){return n.id==r.id}))].moveRunner(e.clickPoint),n.renderBar(),n.view.$controlPanel.setCurrentRunner(r.id)})),this.view.moveRunnerEvent.addListener((function(e){n.model.options.runners=n.model.options.runners.map((function(n){return n.id===e.id?d(d({},n),{position:e.position}):n})),n.model.runners=n.model.runners.map((function(n){return n.id===e.id?d(d({},n),{position:e.position}):n})),n.view.$controlPanel.runners=n.model.runners,n.view.$controlPanel.setCurrentRunner(e.id),n.renderBar()})),this.view.skinSelectedEvent.addListener((function(e){n.model.options.skin=e.skin,n.render()})),this.view.orientationChangedEvent.addListener((function(e){n.model.options.orientation=e.orientation,n.render()})),this.view.minChangedEvent.addListener((function(e){var t=Number(e.scaleMin),i=n.model.scale.max,s=n.model.validateScale(t,i);n.model.options.scale.min=s.min,n.model.scale.min=s.min,n.model.setupRunners(n.model.runners),n.render()})),this.view.maxChangedEvent.addListener((function(e){var t=n.model.scale.min,i=Number(e.scaleMax),s=n.model.validateScale(t,i);n.model.options.scale.max=s.max,n.model.scale.max=s.max,n.model.setupRunners(n.model.runners),n.render()})),this.view.stepChangedEvent.addListener((function(e){n.model.options.step=n.model.validateStep(Number(e.scaleStep)),n.render()})),this.view.visibilityChangedEvent.addListener((function(e){n.model.options.scale.isVisible=e.scaleVisible,n.render()})),this.view.runnerChosenEvent.addListener((function(e){n.view.$controlPanel.setCurrentRunner(e.runnerId)})),this.view.positionChangedEvent.addListener((function(e){n.model.options.runners=n.model.options.runners.map((function(n){return n.id===e.id?d(d({},n),{position:e.position}):n})),n.model.runners=n.model.runners.map((function(n){return n.id===e.id?d(d({},n),{position:e.position}):n})),n.render(),n.view.$controlPanel.setCurrentRunner(e.id)})),this.view.tooltipChangedEvent.addListener((function(e){n.model.options.runners=n.model.options.runners.map((function(n){return n.id===e.id?d(d({},n),{showTooltip:e.showTooltip}):n})),n.model.runners=n.model.runners.map((function(n){return n.id===e.id?d(d({},n),{showTooltip:e.showTooltip}):n})),n.render(),n.view.$controlPanel.setCurrentRunner(e.id)}))},n.prototype.render=function(){var n=this.view.$mainWrapper.parentElement;this.view.destroy(),this.model.hasNegative=this.model.scaleHasNegative(),this.model.range=this.model.calculateRange(),this.view=new p(this.model,n),this.setupListeners(),this.renderBar(),console.log("render called")},n.prototype.renderBar=function(){var n=this.model.createBar();this.view.bar=n,this.view.createBar()},n.prototype.destroy=function(){},n}();t(734);!function(n){n.fn.extend({rangeSlider:function(e,t){var i=this,s=n.extend({id:1,step:10,scale:{min:200,max:400,isVisible:!0},orientation:"",skin:"city",runners:[{id:50123,position:201,showTooltip:!0},{id:2,position:-210,showTooltip:!0},{id:3,position:220,showTooltip:!0}]},e),r=n(this)[0],o={init:function(n){new m(s,r)},renderBar:function(){new m(s,r).renderBar(),console.log("Bar has been rendered")}};return n(this).each((function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return o[t]?o[t].apply(i,Array.prototype.slice.call(e,1)):"object"!=typeof t&&t?n.error('Метод "'+t+'" не найден в плагине jQuery.rangeSlider'):o.init.call(i)}))}})}(t(755));var v=t(755);v(".slider-id-1").rangeSlider({scale:{min:0,max:400,isVisible:!0},runners:[{id:1,position:250,showTooltip:!0}]}),v(".slider-id-3").rangeSlider({scale:{min:-200,max:400,isVisible:!0},runners:[{id:1,position:-200,showTooltip:!0},{id:2,position:350,showTooltip:!0}],step:1})},288:(n,e,t)=>{"use strict";function i(n,e){void 0===e&&(e="");var t=document.createElement(n);return t.className=e,t}function s(n,e){for(var t in e)n.setAttribute(t,e[t])}t.d(e,{a:()=>i,K:()=>s})},807:(n,e,t)=>{"use strict";function i(n){return"range2pix"===n.direction?n.pixels/n.max:n.max/n.pixels}function s(n,e){var t;return function(){for(var i=this,s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];var o=function(){clearTimeout(t),n.apply(i,s)};clearTimeout(t),t=setTimeout(o,e)}}function r(n,e){return n.reduce((function(n,t){return Math.abs(Number(t)-e)<Math.abs(Number(n)-e)?t:n}))}function o(n){return isNaN(n.position)?n.min:n.position>=n.max?n.max:n.position<=n.min?n.min:n.position}t.d(e,{uM:()=>i,As:()=>r,Ds:()=>s,qP:()=>o})}}]);